<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Canvas Index Page</title>
    <style type="text/css">
        #cvs {
            margin: 0 auto;
            border: 1px solid red;

            /*background-color: #777070;*/
        }
    </style>
</head>
<body>
    
    <canvas id="cvs" width="300" height="300"></canvas>

    <script src="functions/gradient.js"></script>
    <script src="functions/tree.js"></script>
    <script>


        var canvas = document.getElementById('cvs');

        var ctx = canvas.getContext('2d');

        // 快乐栈道
        // happyRoadInit(ctx);

        loadImg(
            '../../../ungit-temp/images/yblh-01.jpg',
            
            function (img) {
                
                // 把图片画到画布上
                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
            }
        );



        function imagePxHandler() {
            
            var imgData = ctx.getImageData();

            console.log(imgData);
        }


        // 加载图片完成后执行回调
        function loadImg(imgPath, callback) {
            
            var img = new Image();

            img.src = imgPath;

            img.onload = function () {
                callback && callback(img);
            }
        }

    </script>

</body>
</html>