<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}

		
	</style>
</head>
<body>
	<div id="question"></div>
	
	<table id="tbl"></table>

	<script>
		var a = {

			id: 0
		};

		function change( value ) {
			
			var id = a.id;

			a.id = value

			console.log( a.id );
		}

		var str = 'tr&{"width":"100px","backgroundColor":"red","text":"hello"}.td&{"text":"world","backgroundColor":"blue"}.span';


		function createElementByString( str ) {
			
			var eleArr = str.split( '.' );

			var eleObj 	= {}, i = 0,
				len 	= eleArr.length,
				tmp 	= null,
				frag 	= null,
				parent 	= null,
				node 	= null;

			frag = document.createDocumentFragment();

			parent = frag;

			for ( ; i < len; i++ ) {

				eleObj = eleObj || {};

				if ( eleArr[ i ].indexOf( '&' ) >= 0 ) {

					tmp = eleArr[ i ].split( '&' );

					eleObj.tagName = tmp[ 0 ];

					eleObj.styles = eval( "(" + tmp[ 1 ] + ")" );
				} else {

					eleObj.tagName = eleArr[ i ];
					eleObj.styles = null;
				}

				// 开始创建
				node = createEle( eleObj.tagName, eleObj.styles );

				parent.appendChild( node );

				parent = node;
			}

			return frag;
		}

		function createEle( tag, styles ) {
		
			var node 		= null,
				textNode 	= null,
				prop 		= '';

			node 		= document.createElement( tag );
			textNode 	= document.createTextNode( '' );
			node.appendChild( textNode );

			if ( styles === null ) {

				return node;
			}

			for ( prop in styles ) {

				if ( styles.hasOwnProperty( prop ) ) {

					if ( styles.id ) {

						node.id = styles.id;
					}

					if ( typeof node.style[ prop ] !== 'undefined' ) {

						node.style[ prop ] = styles[ prop ];
					}

					if ( styles.text ) { // 文本内容

						textNode.nodeValue = styles.text;
					}
				}
			}

			return node;
		}

		$( 'tbl' ).appendChild( createElementByString( str ) );

		function $(id) {
			return document.getElementById( id );
		}
	</script>


	<script type="text/javascript" src="../mycodes/myApis.js"></script>
	<script type="text/javascript" src="playControl/pageData.js"></script>
	<!-- <script type="text/javascript" src="playControl/playControl.js"></script> -->
	<!-- <script type="text/javascript" src="./SOLID-OCP.js"></script> -->
</body>
</html>